<UserControl
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	mc:Ignorable="d" x:Class="Tracker.Views.Tracker"
	xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
	xmlns:tracker="clr-namespace:Tracker"
	xmlns:converters="clr-namespace:Tracker.Converters"
	ScrollViewer.CanContentScroll="True" Height="800" Width="800" HorizontalAlignment="Left" VerticalAlignment="Top">

	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="Icons.xaml" />
				<ResourceDictionary Source="Resources.xaml" />
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
		
	</UserControl.Resources>

	<DataGrid x:Name="Records" ItemsSource="{Binding Path=Records}" AutoGenerateColumns="False" Margin="10,10,0,0"
	          FontSize="14.667" Height="Auto" HorizontalAlignment="Left" VerticalAlignment="Top" GridLinesVisibility="None" Foreground="#FF3A3A3A" AlternatingRowBackground="#FFE4E4E4">
		<DataGrid.Resources>
			<Viewbox x:Key="Food" Width="48" Height="48">
				<Canvas Width="24" Height="24">
					<Path Fill="Orange"
			      Data="M22,18A4,4 0 0,1 18,22H15A4,4 0 0,1 11,18V16H17.79L20.55,11.23L22.11,12.13L19.87,16H22V18M9,22H2C2,19 2,16 2.33,12.83C2.6,10.3 3.08,7.66 3.6,5H3V3H4L7,3H8V5H7.4C7.92,7.66 8.4,10.3 8.67,12.83C9,16 9,19 9,22Z" />
				</Canvas>
			</Viewbox>
			<Viewbox x:Key="Health" Width="48" Height="48">
				<Canvas Width="24" Height="24">
					<Path
				Data="M4.22,11.29L11.29,4.22C13.64,1.88 17.43,1.88 19.78,4.22C22.12,6.56 22.12,10.36 19.78,12.71L12.71,19.78C10.36,22.12 6.56,22.12 4.22,19.78C1.88,17.43 1.88,13.64 4.22,11.29M5.64,12.71C4.59,13.75 4.24,15.24 4.6,16.57L10.59,10.59L14.83,14.83L18.36,11.29C19.93,9.73 19.93,7.2 18.36,5.64C16.8,4.07 14.27,4.07 12.71,5.64L5.64,12.71Z"
				Fill="DarkRed" />
				</Canvas>
			</Viewbox>
			<Viewbox x:Key="Housing" Width="48" Height="48">
				<Canvas Width="24" Height="24">
					<Path Data="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z" Fill="Gold" />
				</Canvas>
			</Viewbox>
			<Viewbox x:Key="Technic" Width="48" Height="48">
				<Canvas Width="24" Height="24">
					<Path
				Data="M21,14H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10L8,21V22H16V21L14,18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z"
				Fill="CornflowerBlue" />
				</Canvas>
			</Viewbox>
			<converters:CategoryToIcon x:Key="categoryToIcon"/>
		</DataGrid.Resources>
		<DataGrid.Columns>
			<DataGridTextColumn Header="Amount" Binding="{Binding Path=Amount}" Width="Auto" />
			<DataGridComboBoxColumn Header="Type" ItemsSource="{Binding Path=Type}" Width="Auto" />
			<DataGridTextColumn Header="Category" Binding="{Binding Path=Category}" Width="Auto" />
			<DataGridTemplateColumn Header="Category" Width="SizeToCells" IsReadOnly="True">
				<DataGridTemplateColumn.CellTemplate>
					<DataTemplate>
						<StackPanel Orientation="Horizontal">
							<Grid Width="16" Height="16">
								<Grid.Background>
									<VisualBrush
										Visual="{Binding Path=Category, Converter={StaticResource categoryToIcon}, ConverterParameter={RelativeSource Self}}"
										Stretch="UniformToFill" />
								</Grid.Background>
							</Grid>
							<TextBlock Text="{Binding Path=Category}" Margin="10,0,0,0" />
						</StackPanel>
					</DataTemplate>
				</DataGridTemplateColumn.CellTemplate>
			</DataGridTemplateColumn>

			<DataGridTextColumn Header="Description" Binding="{Binding Path=Description}" Width="Auto" />
		</DataGrid.Columns>
		<DataGrid.GroupStyle>
			<GroupStyle>
				<GroupStyle.HeaderTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Path=Name}" Foreground="LightGray" Margin="0,20,0,0" />
					</DataTemplate>
				</GroupStyle.HeaderTemplate>
			</GroupStyle>
		</DataGrid.GroupStyle>
		<!--		<tracker:Record ID="46" Amount="888" Category="General" Type="Expense" Description="Description" Date="4/13/2015" />-->
		<!--		<tracker:Record ID="46" Amount="64" Category="Food" Type="Balance" Description="Description" Date="4/13/2015" />-->
		<!--		<tracker:Record ID="46" Amount="888" Category="Technic" Type="Expense" Description="dasdsad" Date="2/13/2015" />-->
		<!--		<tracker:Record ID="46" Amount="16" Category="Food" Type="Debt" Description="asdasdd" Date="2/13/2015" />-->
		
		
	</DataGrid>

</UserControl>